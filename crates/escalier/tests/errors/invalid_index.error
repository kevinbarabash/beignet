Can't access property on non-object type